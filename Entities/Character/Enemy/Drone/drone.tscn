[gd_scene load_steps=7 format=3 uid="uid://jxqs23f371kq"]

[ext_resource type="Script" uid="uid://b188mey8mrd64" path="res://Entities/Character/Enemy/enemy.gd" id="1_0tq5o"]
[ext_resource type="Script" uid="uid://dfouv7ymg0iht" path="res://Common/stateMachine/state_machine.gd" id="2_6vf5s"]
[ext_resource type="Script" uid="uid://cilyiatuty5yf" path="res://Entities/Character/Enemy/Drone/States/follow_player.gd" id="3_in55t"]
[ext_resource type="Script" uid="uid://dl4oalac4id4b" path="res://Common/stateMachine/state_class.gd" id="4_0tq5o"]

[sub_resource type="SphereShape3D" id="SphereShape3D_6vf5s"]

[sub_resource type="SphereMesh" id="SphereMesh_in55t"]

[node name="drone" type="CharacterBody3D" groups=["enemy"]]
script = ExtResource("1_0tq5o")
type = "drone"

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_6vf5s")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("SphereMesh_in55t")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("initialState")]
script = ExtResource("2_6vf5s")
initialState = NodePath("FollowPlayer")

[node name="FollowPlayer" type="Node" parent="StateMachine" node_paths=PackedStringArray("enemy")]
script = ExtResource("3_in55t")
enemy = NodePath("../..")
metadata/_custom_type_script = "uid://dl4oalac4id4b"

[node name="FlyTowardsPlayer" type="Node" parent="StateMachine"]
script = ExtResource("4_0tq5o")
metadata/_custom_type_script = "uid://dl4oalac4id4b"

[node name="HoverOverPlayer" type="Node" parent="StateMachine"]
script = ExtResource("4_0tq5o")
metadata/_custom_type_script = "uid://dl4oalac4id4b"

[node name="CircleAroundPlayer" type="Node" parent="StateMachine"]
script = ExtResource("4_0tq5o")
metadata/_custom_type_script = "uid://dl4oalac4id4b"
